<!DOCTYPE html>
<html lang="en">
<link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600&display=swap" rel="stylesheet">

<style>
  body {
    --black: #000;
    --white: #fff;
    --magenta: #ca228e;
    --gray-100: #f0f0f0;
    --gray-200: #e6e6e6;
    --gray-300: #dbdbdb;
    --gray-400: #cfcfcf;
    --radius: 6px;
    font: 14px "Work Sans", system-ui, sans-serif;
    margin: 0;
    padding: 16px 12px;
  }

  .section {
    margin-bottom: 16px;
  }

  label {
    user-select: none;
  }

  input {
    margin: 0;
  }

  .input-header {
    margin-bottom: 6px;
    display: inline-block;
  }

  input[type="text"] {
    font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas,
      "Liberation Mono", "DejaVu Sans Mono", "Courier New", monospace;
    font-size: inherit;
    border-radius: var(--radius);
    padding: 6px;
    border: 1px solid var(--gray-300);
    background-color: var(--gray-100);
    box-sizing: border-box;
    width: 100%;
  }

  input[type="text"]:focus-visible {
    outline-color: var(--magenta);
  }

  select {
    font-family: inherit;
    font-size: inherit;
    border-radius: var(--radius);
    padding: 4px;
    border: 1px solid var(--gray-300);
    background-color: var(--gray-100);
  }

  select:focus-visible {
    outline-color: var(--magenta);
  }

  code {
    font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas,
      "Liberation Mono", "DejaVu Sans Mono", "Courier New", monospace;
      background-color: #e6e6e6;
      border-radius: var(--radius);
      padding: 2px 6px;
      font-size: 16px;
  }

  .steps {
    display: inline-flex;
    flex-direction: column;
    user-select: none;
  }

  .step-group {
    display: inline-flex;
    gap: 0;
    border: 1px solid var(--gray-300);
    border-radius: var(--radius);
    align-items: stretch;
  }

  .step-button {
    border: none;
    background: var(--gray-100);
    color: var(--black);
    border-radius: 0;
    margin: 0;
    padding: 8px 14px;
    cursor: pointer;
    font-family: inherit;
    font-size: inherit;
    line-height: 1;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    position: relative;
  }

  .step-button:first-child {
    border-top-left-radius: var(--radius);
    border-bottom-left-radius: var(--radius);
  }

  .step-button:last-child {
    border-top-right-radius: var(--radius);
    border-bottom-right-radius: var(--radius);
  }

  .step-button.is-active {
    background: var(--gray-300);
    color: var(--black);
  }

  .step-button:not(.is-active):hover {
    background: var(--gray-200);
  }

  .step-button:focus-visible {
    outline-color: var(--magenta);
    z-index: 1;
  }

  .checkboxes {
    display: flex;
    gap: 10px;
    margin-top: 20px;
    flex-direction: column;
    align-items: flex-start;
  }

  .checkbox {
    display: inline-flex;
    gap: 6px;
    align-items: center;
    cursor: pointer;
    height: 24px;
  }


  .checkbox input {
    position: absolute;
    opacity: 0;
    width: 0;
    height: 0;
  }

  .checkbox .switch {
    width: 34px;
    height: 20px;
    background: var(--gray-400);
    border-radius: 999px;
    position: relative;
    transition: background 150ms ease-in-out;
    flex-shrink: 0;
  }

  .checkbox .switch::after {
    content: "";
    position: absolute;
    width: 14px;
    height: 14px;
    background: var(--white);
    border-radius: 50%;
    top: 3px;
    left: 3px;
    transition: transform 150ms ease-in-out;
  }

  .checkbox input:checked+.switch {
    background: var(--magenta);
  }

  .checkbox input:checked+.switch::after {
    transform: translateX(14px);
  }

  .checkbox input:focus-visible+.switch {
    outline: 2px solid var(--magenta);
  }

  #generate {
    font-family: inherit;
    font-size: inherit;
    border: none;
    background: var(--black);
    width: 100%;
    padding: 12px 8px;
    margin-top: 4px;
    cursor: pointer;
    border-radius: var(--radius);
    color: var(--white);
    transition: background 150ms ease-in-out;
    user-select: none;
  }

  #generate:hover {
    background: var(--magenta);
  }

  #generate:focus-visible {
    outline: 2px solid var(--magenta);
  }
</style>

<body>

  <main>
    <div class="section">
      <label class="hex">
        <div class="input-header">Hex colors (separated by spaces)</div>
        <input id="hex" type="text" value="">
      </label>
    </div>

    <div class="section">
      <div class="steps">
        <div class="input-header">Steps</div>
        <div class="step-group" id="stepGroup" role="group" aria-label="Steps">
          <button class="step-button" type="button" data-step="5">5</button>
          <button class="step-button is-active" type="button" data-step="10">10</button>
          <button class="step-button" type="button" data-step="20">20</button>
        </div>
      </div>
    </div>

    <div class="section checkboxes">
      <label class="checkbox styles">
        <input id="createStyles" type="checkbox">
        <span class="switch"></span>
        <span class="label">Create styles</span>
      </label>

      <div class="checkbox palette">
        <label class="checkbox">
          <input id="includePalette" type="checkbox">
          <span class="switch"></span>
          <span class="label">Include</span>
        </label>
        <select id="paletteType">
          <option value="complementary" selected>complementary</option>
          <option value="split-complementary">split complementary</option>
          <option value="analogous">analogous</option>
          <option value="triadic">triadic</option>
        </select>
      </div>

      <label class="checkbox hashtags">
        <input id="includeHashtag" type="checkbox">
        <span class="switch"></span>
        <span class="label">Prefix <code>#</code></span>
      </label>

      <label class="checkbox darkmode">
        <input id="darkBackground" type="checkbox">
        <span class="switch"></span>
        <span class="label">Dark background</span>
      </label>
    </div>

    <button id="generate">
      Make tints and shades &nbsp;ðŸŽ‰
    </button>
  </main>

  <script>
    const hexInput = document.getElementById("hex");
    const stylesInput = document.getElementById("createStyles");
    const darkBgInput = document.getElementById("darkBackground");
    const hashtagInput = document.getElementById("includeHashtag");
    const paletteInput = document.getElementById("includePalette");
    const paletteTypeInput = document.getElementById("paletteType");
    const generateButton = document.getElementById("generate");

    const stepGroup = document.getElementById("stepGroup");
    let stepCount = 10;

    stepGroup.addEventListener("click", (event) => {
      const target = event.target;
      if (!(target instanceof HTMLButtonElement)) return;
      const nextStep = parseInt(target.dataset.step || "", 10);
      if (!Number.isFinite(nextStep)) return;
      stepCount = nextStep;
      stepGroup.querySelectorAll(".step-button").forEach((button) => {
        button.classList.toggle("is-active", button === target);
      });
    });

    generateButton.onclick = () => {

      parent.postMessage(
        {
          pluginMessage: {
            type: "generate",
            hex: hexInput.value,
            stepCount,
            createStyles: stylesInput.checked,
            darkBackground: darkBgInput.checked,
            includeHashtag: hashtagInput.checked,
            includePalette: paletteInput.checked,
            paletteType: paletteTypeInput.value
          }
        },
        "*"
      );
    };
  </script>


</body>

</html>